<html><head><base href="." target="_blank">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>10-Day Stock Investment Game</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }

    body {
      background-color: #f5f5f5;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .header {
      background-color: #003B7B;
      color: white;
      padding: 20px 0;
      margin-bottom: 30px;
    }

    .header h1 {
      text-align: center;
    }

    .game-container {
      display: grid;
      grid-template-columns: 1fr 2fr 1fr;
      gap: 20px;
    }

    .balance-panel, .chart-section, .trading-panel {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .balance-panel {
      height: fit-content;
    }

    .day-counter {
      text-align: center;
      font-size: 24px;
      margin-bottom: 20px;
      color: #003B7B;
    }

    .next-day-btn {
      width: 100%;
      padding: 15px;
      background: #003B7B;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 20px;
    }

    .stock-selector {
      width: 100%;
      padding: 10px;
      margin-bottom: 20px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }

    .trade-buttons {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    .buy-btn, .sell-btn {
      flex: 1;
      padding: 10px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
    }

    .buy-btn {
      background: #4CAF50;
      color: white;
    }

    .sell-btn {
      background: #f44336;
      color: white;
    }

    .volume-input {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }

    .balance-info {
      font-size: 18px;
      margin-bottom: 10px;
    }

    #chart {
      width: 100%;
      height: 400px;
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="header">
    <div class="container">
      <h1>10-Day Stock Investment Game</h1>
    </div>
  </div>

  <div class="container">
    <div class="day-counter">Day <span id="current-day">1</span> / 10</div>
    
    <div class="game-container">
      <div class="balance-panel">
        <h3>Account Balance</h3>
        <div class="balance-info">Cash: $<span id="cash">100000.00</span></div>
        <div class="balance-info">Portfolio Value: $<span id="portfolio-value">0.00</span></div>
        <div class="balance-info">Total Value: $<span id="total-value">100000.00</span></div>
      </div>

      <div class="chart-section">
        <canvas id="chart"></canvas>
      </div>

      <div class="trading-panel">
        <select class="stock-selector" id="stock-selector">
          <option value="AAPL">Apple (AAPL)</option>
          <option value="MSFT">Microsoft (MSFT)</option>
          <option value="GOOGL">Google (GOOGL)</option>
        </select>

        <div class="stock-info">
          <h3>Current Price: $<span id="current-price">0.00</span></h3>
        </div>

        <input type="number" class="volume-input" id="trade-volume" placeholder="Enter quantity">

        <div class="trade-buttons">
          <button class="buy-btn" onclick="executeTrade('buy')">Buy</button>
          <button class="sell-btn" onclick="executeTrade('sell')">Sell</button>
        </div>

        <div class="portfolio">
          <h3>Your Holdings</h3>
          <div id="holdings"></div>
        </div>

        <button class="next-day-btn" onclick="nextDay()">Next Day</button>
      </div>
    </div>
  </div>

  <script>
    let currentDay = 1;
    let cash = 100000;
    let portfolio = {};
    let currentPrice = 0;
    let stockData = {};
    let chart;

    // Simulated 10-day price data for stocks
    const simulatedData = {
      'AAPL': [150.25, 152.30, 148.75, 151.20, 153.45, 149.90, 152.80, 154.20, 151.75, 153.90],
      'MSFT': [285.30, 287.45, 284.90, 288.20, 290.15, 286.75, 289.30, 291.45, 288.90, 292.15],
      'GOOGL': [2750.20, 2765.45, 2740.90, 2770.15, 2785.30, 2755.75, 2780.20, 2795.45, 2760.90, 2790.15]
    };

    function initializeChart() {
      const ctx = document.getElementById('chart').getContext('2d');
      chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: Array.from({length: 10}, (_, i) => `Day ${i + 1}`),
          datasets: [{
            label: 'Stock Price',
            data: [],
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: {
              beginAtZero: false
            }
          }
        }
      });
    }

    function updateChart() {
      const selectedStock = document.getElementById('stock-selector').value;
      chart.data.datasets[0].data = simulatedData[selectedStock].slice(0, currentDay);
      chart.data.datasets[0].label = `${selectedStock} Stock Price`;
      chart.update();
    }

    function executeTrade(type) {
      const volume = parseInt(document.getElementById('trade-volume').value);
      const selectedStock = document.getElementById('stock-selector').value;
      currentPrice = simulatedData[selectedStock][currentDay - 1];

      if (!volume || volume <= 0) {
        alert('Please enter a valid quantity');
        return;
      }

      const total = volume * currentPrice;

      if (type === 'buy') {
        if (total > cash) {
          alert('Insufficient funds');
          return;
        }
        cash -= total;
        portfolio[selectedStock] = (portfolio[selectedStock] || 0) + volume;
      } else {
        if (!portfolio[selectedStock] || portfolio[selectedStock] < volume) {
          alert('Insufficient shares');
          return;
        }
        cash += total;
        portfolio[selectedStock] -= volume;
      }

      updateDisplay();
    }

    function updateDisplay() {
      document.getElementById('cash').textContent = cash.toFixed(2);
      
      let portfolioValue = 0;
      for (const [stock, shares] of Object.entries(portfolio)) {
        if (shares > 0) {
          portfolioValue += shares * simulatedData[stock][currentDay - 1];
        }
      }
      
      document.getElementById('portfolio-value').textContent = portfolioValue.toFixed(2);
      document.getElementById('total-value').textContent = (cash + portfolioValue).toFixed(2);
      
      const selectedStock = document.getElementById('stock-selector').value;
      document.getElementById('current-price').textContent = 
        simulatedData[selectedStock][currentDay - 1].toFixed(2);

      // Update holdings display
      const holdingsHTML = Object.entries(portfolio)
        .filter(([_, shares]) => shares > 0)
        .map(([stock, shares]) => `<p>${stock}: ${shares} shares</p>`)
        .join('');
      document.getElementById('holdings').innerHTML = holdingsHTML;
    }

    function nextDay() {
      if (currentDay < 10) {
        currentDay++;
        document.getElementById('current-day').textContent = currentDay;
        updateChart();
        updateDisplay();
      } else {
        alert('Game Over! Final Value: $' + 
          document.getElementById('total-value').textContent);
      }
    }

    // Initialize game
    document.getElementById('stock-selector').addEventListener('change', () => {
      updateChart();
      updateDisplay();
    });

    initializeChart();
    updateChart();
    updateDisplay();
  </script>
</body></html>